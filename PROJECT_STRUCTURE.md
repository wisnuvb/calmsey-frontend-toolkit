# Project Structure

Complete overview of the Frontend Toolset architecture and file organization.

## Root Directory

```
frontend-toolset/
├── .env.example              # Environment variables template
├── .eslintrc.json            # ESLint configuration
├── .gitignore                # Git ignore patterns
├── .prettierrc               # Prettier code formatting rules
├── components.json           # Shadcn UI configuration
├── next.config.mjs           # Next.js configuration
├── openapi.json              # Sample OpenAPI spec (replace with yours)
├── orval.config.js           # Orval API generator config
├── package.json              # NPM dependencies and scripts
├── postcss.config.js         # PostCSS configuration for Tailwind
├── tailwind.config.ts        # Tailwind CSS configuration
├── tsconfig.json             # TypeScript configuration
├── README.md                 # Main documentation
└── GETTING_STARTED.md        # Step-by-step setup guide
```

## Source Directory (`src/`)

### Application (`src/app/`)

```
src/app/
├── (auth)/                   # Auth route group (login, register)
│   └── login/
│       └── page.tsx          # Login page
│
├── (dashboard)/              # Protected route group
│   └── dashboard/
│       └── page.tsx          # Main dashboard page
│
├── api/                      # API Routes
│   └── auth/
│       └── [...nextauth]/
│           └── route.ts      # NextAuth endpoints
│
├── layout.tsx                # Root layout with Providers
├── page.tsx                  # Homepage
└── globals.css               # Global styles with Tailwind directives
```

**Route Groups Explained:**
- `(auth)/` - Public authentication pages
- `(dashboard)/` - Protected pages requiring authentication
- Routes in groups share layouts but group name doesn't appear in URL

### Components (`src/components/`)

```
src/components/
├── ui/                       # Shadcn UI components (installed via CLI)
│   ├── button.tsx           # Example: npx shadcn add button
│   ├── card.tsx
│   ├── input.tsx
│   └── ...
│
├── shared/                   # Global shared components
│   ├── navbar.tsx           # Site navigation
│   ├── footer.tsx           # Site footer
│   └── modal.tsx            # Reusable modal
│
└── forms/                    # Form-specific components
    ├── user-form.tsx        # Example form with validation
    └── login-form.tsx
```

### Hooks (`src/hooks/`)

```
src/hooks/
├── useAuth.ts                # Authentication helpers
├── useLocalStorage.ts        # Local storage hook
└── useDebounce.ts            # Debounce hook
```

### Library (`src/lib/`)

```
src/lib/
├── auth.ts                   # NextAuth configuration
├── axios.ts                  # Axios instance with interceptors
├── query-client.ts           # React Query configuration
└── utils.ts                  # Utility functions (cn, etc.)
```

**Key Files:**
- `auth.ts` - Configure authentication providers and callbacks
- `axios.ts` - HTTP client with automatic token injection
- `query-client.ts` - React Query default options
- `utils.ts` - Helper functions like `cn()` for className merging

### Services (`src/services/`)

```
src/services/
├── api/                      # ⚡ AUTO-GENERATED (DO NOT EDIT)
│   ├── endpoints/           # React Query hooks
│   │   ├── users.ts         # useGetUsers, useCreateUser, etc.
│   │   └── ...
│   └── model/               # TypeScript interfaces
│       ├── user.ts
│       └── ...
│
├── custom/                   # Manual API services
│   ├── analytics.ts         # Custom analytics service
│   └── notifications.ts     # Custom notification service
│
└── README.md                # Services documentation
```

**Important:**
- `api/` folder is regenerated by Orval - never edit manually
- `custom/` folder for APIs not in OpenAPI spec
- Run `npm run generate:api` to update generated files

### Schemas (`src/schemas/`)

```
src/schemas/
├── user.schema.ts            # User validation schemas
├── auth.schema.ts            # Auth form schemas
└── common.schema.ts          # Shared schemas
```

**Example Schema:**
```typescript
import { z } from 'zod';

export const userSchema = z.object({
  email: z.string().email(),
  name: z.string().min(2),
  age: z.number().min(18),
});

export type User = z.infer<typeof userSchema>;
```

### Store (`src/store/`)

```
src/store/
├── userStore.ts              # User state management
├── themeStore.ts             # Theme preferences
└── cartStore.ts              # Shopping cart (example)
```

**Example with Zustand:**
```typescript
import { create } from 'zustand';

interface UserState {
  user: User | null;
  setUser: (user: User) => void;
}

export const useUserStore = create<UserState>((set) => ({
  user: null,
  setUser: (user) => set({ user }),
}));
```

### Types (`src/types/`)

```
src/types/
├── next-auth.d.ts            # NextAuth type extensions
├── api.d.ts                  # API response types
└── common.d.ts               # Common type definitions
```

### Providers (`src/providers/`)

```
src/providers/
└── providers.tsx             # Root providers wrapper
```

**Contains:**
- QueryClientProvider (React Query)
- SessionProvider (NextAuth)
- ThemeProvider (if using dark mode)

## Configuration Files

### `orval.config.js`
Configures automatic API generation from OpenAPI specs.

```javascript
module.exports = {
  api: {
    input: {
      target: './openapi.json', // Your API spec
    },
    output: {
      target: './src/services/api/endpoints',
      client: 'react-query',
    },
  },
};
```

### `tailwind.config.ts`
Tailwind CSS theming and plugin configuration.

### `next.config.mjs`
Next.js build and runtime configuration.

### `tsconfig.json`
TypeScript compiler options and path aliases.

## Public Directory (`public/`)

```
public/
├── logo.svg                  # App logo
├── favicon.ico               # Favicon
└── images/                   # Static images
    ├── hero.png
    └── ...
```

## File Naming Conventions

### Pages (Next.js App Router)
- `page.tsx` - Route page component
- `layout.tsx` - Layout wrapper
- `loading.tsx` - Loading UI
- `error.tsx` - Error boundary
- `not-found.tsx` - 404 page

### Components
- PascalCase: `UserCard.tsx`, `NavigationBar.tsx`
- Use `.tsx` for components with JSX
- Use `.ts` for utility functions

### Hooks
- Prefix with `use`: `useAuth.ts`, `useLocalStorage.ts`

### Types
- Suffix with `.d.ts` for declarations: `next-auth.d.ts`
- Or use `.types.ts` for specific types: `user.types.ts`

## Generated Files (Do Not Edit)

These files are auto-generated and should not be edited manually:

- `src/services/api/endpoints/**` - Generated by Orval
- `src/services/api/model/**` - Generated by Orval
- `node_modules/**` - NPM dependencies
- `.next/**` - Next.js build output

## Environment Variables

Create `.env.local` for development:

```env
# Required
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=your-secret-key

# API
NEXT_PUBLIC_API_URL=http://localhost:3000/api

# Optional
DATABASE_URL=postgresql://...
```

**Security Note:**
- Never commit `.env.local` to Git
- Use `.env.example` as a template
- Prefix public variables with `NEXT_PUBLIC_`

## Build Output

```
.next/                        # Next.js build cache
out/                          # Static export (if using)
```

## Key Concepts

### Route Groups
Folders wrapped in parentheses `()` don't affect URL structure:
- `src/app/(auth)/login` → URL: `/login`
- `src/app/(dashboard)/settings` → URL: `/settings`

### Server vs Client Components
- **Server Components** (default): No `'use client'` directive
- **Client Components**: Add `'use client'` at top of file

### API Routes
Located in `src/app/api/` with `route.ts` files:
```typescript
// src/app/api/users/route.ts
export async function GET() {
  return Response.json({ users: [] });
}
```

## Adding New Features

1. **Generate API code**: `npm run generate:api`
2. **Create page**: `src/app/(dashboard)/feature/page.tsx`
3. **Add components**: `src/components/feature/`
4. **Use generated hooks**: Import from `src/services/api/endpoints/`
5. **Style with Shadcn**: `npx shadcn add [component]`

## Summary

This structure provides:
- ✅ Clear separation between generated and manual code
- ✅ Type-safe API integration
- ✅ Organized component hierarchy
- ✅ Built-in authentication
- ✅ Scalable architecture
- ✅ Developer-friendly conventions

For detailed guides, see:
- [Getting Started Guide](./GETTING_STARTED.md)
- [Main README](./README.md)
